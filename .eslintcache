[{"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\contexts\\modal-context.js":"1","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Footer.js":"2","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\PartySelection.js":"3","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GamesFromIds.js":"4","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GameInModal.js":"5","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\utils\\Gravatar.js":"6","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\store\\configure.js":"7","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\ModalGame.js":"8","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\constants\\pages.ts":"9","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\action\\index.js":"10","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\selectors\\index.js":"11","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\serviceWorker.js":"12","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Games.js":"13","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Player.js":"14","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Players.js":"15","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\index.js":"16","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\reducers\\index.js":"17","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\App.js":"18","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\WishedGames.js":"19","C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GameRow.js":"20"},{"size":200,"mtime":1607954802751,"results":"21","hashOfConfig":"22"},{"size":1162,"mtime":1573637145464,"results":"23","hashOfConfig":"22"},{"size":451,"mtime":1573639841280,"results":"24","hashOfConfig":"22"},{"size":1215,"mtime":1573653902655,"results":"25","hashOfConfig":"22"},{"size":2703,"mtime":1607954891080,"results":"26","hashOfConfig":"22"},{"size":6950,"mtime":1570802103405,"results":"27","hashOfConfig":"22"},{"size":885,"mtime":1554820531033,"results":"28","hashOfConfig":"22"},{"size":596,"mtime":1558707509486,"results":"29","hashOfConfig":"22"},{"size":130,"mtime":1573638511166,"results":"30","hashOfConfig":"22"},{"size":5045,"mtime":1600417818266,"results":"31","hashOfConfig":"22"},{"size":5501,"mtime":1573653660886,"results":"32","hashOfConfig":"22"},{"size":4951,"mtime":499162500000,"results":"33","hashOfConfig":"22"},{"size":405,"mtime":1573637218842,"results":"34","hashOfConfig":"22"},{"size":4322,"mtime":1607960581425,"results":"35","hashOfConfig":"22"},{"size":936,"mtime":1607964131571,"results":"36","hashOfConfig":"22"},{"size":714,"mtime":1553069487519,"results":"37","hashOfConfig":"22"},{"size":1620,"mtime":1573210315345,"results":"38","hashOfConfig":"22"},{"size":9107,"mtime":1607963076162,"results":"39","hashOfConfig":"22"},{"size":429,"mtime":1573637260758,"results":"40","hashOfConfig":"22"},{"size":5741,"mtime":1607954891081,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"78ydfa",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"66"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\contexts\\modal-context.js",[],["88","89"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Footer.js",[],["90","91"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\PartySelection.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GamesFromIds.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GameInModal.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\utils\\Gravatar.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\store\\configure.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\ModalGame.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\constants\\pages.ts",[],["92","93"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\action\\index.js",["94"],"import { parseString } from \"xml2js\";\r\nimport axios from \"axios\";\r\nimport he from \"he\";\r\n\r\nconst axiosConfig = {\r\n  headers: { \"Access-Control-Allow-Origin\": true },\r\n};\r\n\r\nexport const UPDATE_PARTY = \"UPDATE_PARTY\";\r\nexport const updatePartyToStore = (party) => {\r\n  console.log(\"updatePartyToStore !!!\");\r\n  return {\r\n    type: UPDATE_PARTY,\r\n    payload: {\r\n      party,\r\n    },\r\n  };\r\n};\r\n\r\nexport const ADD_PLAYER = \"ADD_PLAYER\";\r\nexport const addPlayerToStore = (player) => {\r\n  return {\r\n    type: ADD_PLAYER,\r\n    payload: {\r\n      player,\r\n    },\r\n  };\r\n};\r\n\r\nexport const DELETE_PLAYER = \"DELETE_PLAYER\";\r\nexport const deletePlayerFromStore = (playerId) => {\r\n  return {\r\n    type: DELETE_PLAYER,\r\n    payload: {\r\n      playerId,\r\n    },\r\n  };\r\n};\r\n\r\nexport const UPDATE_PLAYER = \"UPDATE_PLAYER\";\r\nexport const updatePlayerToStore = (playerId, playerData) => {\r\n  console.log(\r\n    \"updatePlayerToStore\",\r\n    playerId,\r\n    JSON.stringify(playerData, null, 2)\r\n  );\r\n  return {\r\n    type: UPDATE_PLAYER,\r\n    payload: {\r\n      playerId,\r\n      playerData,\r\n    },\r\n  };\r\n};\r\n\r\n// https://boardgamegeek.com/wiki/page/BGG_XML_API2\r\n\r\nexport const FETCH_PLAYER_GAMES = \"FETCH_PLAYER_GAMES\";\r\n\r\nconst setPlayerGames = (playerId, ownership, games) => ({\r\n  type: \"FETCH_PLAYER_GAMES\",\r\n  payload: { playerId, ownership, games },\r\n});\r\n\r\nexport const fetchPlayerGames = (player) => async (dispatch, getState) => {\r\n  // Appel Ã  l'api\r\n  console.log(\"fetchPlayerGames\", player.id, player.bggName);\r\n\r\n  var games;\r\n  var ownership = [];\r\n\r\n  // TODO check how we can get rid of \"Access-Control-Allow-Origin\" at https://www.html5rocks.com/en/tutorials/cors/\r\n\r\n  // TODO treat : answer 202\r\n  // <?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?>\r\n  //  <message>\r\n  //   Your request for this collection has been accepted and will be processed.  Please try again later for access.\r\n  //  </message>\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `https://www.boardgamegeek.com/xmlapi2/collection?username=${player.bggName}`\r\n    );\r\n    parseString(response.data, function (err, _games) {\r\n      games = _games.items.item.map((x, index) => {\r\n        // console.log(`_games.items.item[${index}]=`, x);\r\n\r\n        let game = {\r\n          gameId: x.$.objectid,\r\n          playerId: player.id,\r\n          // name: x.name[0]._,\r\n          status: x.status[0].$,\r\n        };\r\n\r\n        //console.log(`games[${index}]=`, JSON.stringify(game, null, 2));\r\n\r\n        return game;\r\n      });\r\n    });\r\n    ownership = games.filter(uniqueId);\r\n\r\n    // Remove games already known to limit the fetch !\r\n\r\n    var existingIds = getState().bgg.games.map((game) => game.id);\r\n\r\n    var idsArray = ownership.map((o) => o.gameId);\r\n    idsArray = idsArray.filter(\r\n      (id) => existingIds.find((x) => x === id) === undefined\r\n    );\r\n\r\n    if (idsArray.length > 0) {\r\n      var idsQueryString = idsArray.reduce((acc, id) => acc + `${id},`, \"\");\r\n      idsQueryString = idsQueryString.slice(0, idsQueryString.length - 1);\r\n\r\n      const responseGame = await axios.get(\r\n        `https://www.boardgamegeek.com/xmlapi2/thing?id=${idsQueryString}`\r\n      );\r\n      parseString(responseGame.data, function (err, _games) {\r\n        //   console.log(\"_games=\", _games);\r\n        // console.log(\"_games.items=\", _games.items);\r\n\r\n        // TODO check x.$.type === 'boardgameexpansion'\r\n\r\n        games = _games.items.item.map((x, index) => {\r\n          // if (index === 0) {\r\n          // console.log(`_games.items.item[${index}]=`, x);\r\n          // }\r\n\r\n          // if (x.$.id === \"822\") {\r\n          // console.log(`_games.items.item[${index}]=`, x);\r\n          // }\r\n\r\n          let game = {\r\n            id: x.$.id,\r\n            type: x.$.type,\r\n            name: x.name[0].$.value,\r\n            minage: x.minage[0].$.value,\r\n            min: x.minplayers[0].$.value,\r\n            max: x.maxplayers[0].$.value,\r\n            minplaytime: x.minplaytime[0].$.value,\r\n            maxplaytime: x.maxplaytime[0].$.value,\r\n            playingtime: x.playingtime[0].$.value,\r\n            image: x.image[0],\r\n            thumbnail: x.thumbnail[0], // FIT IN 200x150\r\n            description: he.decode(x.description[0]),\r\n          };\r\n\r\n          if (game.type === \"boardgameexpansion\") {\r\n            game.extends = x.link.reduce((accumulator, currentValue) => {\r\n              if (currentValue.$.type === \"boardgameexpansion\") {\r\n                accumulator.push(currentValue.$.id);\r\n              }\r\n              return accumulator;\r\n            }, []);\r\n          }\r\n\r\n          // console.log(`games[${index}]=`, JSON.stringify(game, null, 2));\r\n\r\n          return game;\r\n        });\r\n        return;\r\n      });\r\n    }\r\n\r\n    dispatch(setPlayerGames(player.id, ownership, games));\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nfunction uniqueId(value, index, self) {\r\n  return (\r\n    self\r\n      .slice(index + 1)\r\n      .findIndex(\r\n        (currentValue, i, r) => currentValue.gameId === value.gameId\r\n      ) === -1\r\n  );\r\n}\r\n",["95","96"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\selectors\\index.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\serviceWorker.js",[],["97","98"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Games.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Player.js",["99"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\Players.js",["100"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\index.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\reducers\\index.js",["101"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\App.js",["102","103","104"],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\WishedGames.js",[],"C:\\Users\\mdelarette\\Documents\\VSCode\\bgg\\src\\components\\GameRow.js",[],{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"105","replacedBy":"109"},{"ruleId":"107","replacedBy":"110"},{"ruleId":"105","replacedBy":"106"},{"ruleId":"107","replacedBy":"108"},{"ruleId":"111","severity":1,"message":"112","line":5,"column":7,"nodeType":"113","messageId":"114","endLine":5,"endColumn":18},{"ruleId":"105","replacedBy":"115"},{"ruleId":"107","replacedBy":"116"},{"ruleId":"105","replacedBy":"117"},{"ruleId":"107","replacedBy":"118"},{"ruleId":"111","severity":1,"message":"119","line":17,"column":8,"nodeType":"113","messageId":"114","endLine":17,"endColumn":18},{"ruleId":"111","severity":1,"message":"120","line":4,"column":36,"nodeType":"113","messageId":"114","endLine":4,"endColumn":41},{"ruleId":"121","severity":1,"message":"122","line":27,"column":1,"nodeType":"123","endLine":66,"endColumn":3},{"ruleId":"111","severity":1,"message":"124","line":4,"column":20,"nodeType":"113","messageId":"114","endLine":4,"endColumn":29},{"ruleId":"111","severity":1,"message":"120","line":5,"column":36,"nodeType":"113","messageId":"114","endLine":5,"endColumn":41},{"ruleId":"111","severity":1,"message":"125","line":27,"column":8,"nodeType":"113","messageId":"114","endLine":27,"endColumn":14},"no-native-reassign",["126"],"no-negated-in-lhs",["127"],["126"],["127"],"no-unused-vars","'axiosConfig' is assigned a value but never used.","Identifier","unusedVar",["126"],["127"],["126"],["127"],"'Typography' is defined but never used.","'Theme' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'useEffect' is defined but never used.","'Footer' is defined but never used.","no-global-assign","no-unsafe-negation"]