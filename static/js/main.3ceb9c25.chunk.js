(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(61),c=a.n(l),o=a(3),u=a(63),i=a(64),m=a(65),s=a(70),g=a(66),d=a(71),b=(a(82),a(9)),p=a(41),f=a.n(p),E=a(67),w=a(42),y=a(43),h=a.n(y),v=function(e){return{type:"FETCH_PLAYER_GAMES",payload:e}};function O(e,t,a){return-1===a.slice(t+1).findIndex(function(t,a,n){return t.id===e.id})}var C={updatePlayerToStore:function(e,t){return console.log("updatePlayerToStore",e,JSON.stringify(t,null,2)),{type:"UPDATE_PLAYER",payload:{playerId:e,playerData:t}}},deletePlayerFromStore:function(e){return{type:"DELETE_PLAYER",payload:{playerId:e}}},fetchPlayerGames:function(e){return function(){var t=Object(E.a)(f.a.mark(function t(a,n){var r,l,c,o,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetchPlayerGames",e.id,e.bggName),l=[],t.prev=2,t.next=5,h.a.get("https://www.boardgamegeek.com/xmlapi2/collection?username=".concat(e.bggName));case 5:return c=t.sent,Object(w.parseString)(c.data,function(e,t){r=t.items.item.map(function(e){return{id:e.$.objectid,name:e.name[0]._}})}),l=r.filter(O),o=(o=l.reduce(function(e,t){return e+"".concat(t.id,",")},"")).slice(0,o.length-1),t.next=12,h.a.get("https://www.boardgamegeek.com/xmlapi2/thing?id=".concat(o));case 12:u=t.sent,Object(w.parseString)(u.data,function(e,t){console.log("_games.items=",t.items),r=t.items.item.map(function(e){return{id:e.$.id,name:e.name[0].$.value,min:e.minplayers[0].$.value,max:e.maxplayers[0].$.value}})}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),console.error(t.t0);case 19:a(v(r));case 20:case"end":return t.stop()}},t,null,[[2,16]])}));return function(e,a){return t.apply(this,arguments)}}()}},j=Object(o.b)(null,C)(function(e){var t=e.player,a=e.updatePlayerToStore,n=e.deletePlayerFromStore,l=e.fetchPlayerGames,c=r.a.useState(!1),o=Object(b.a)(c,2),u=o[0],i=o[1],m=r.a.useState(t.name),s=Object(b.a)(m,2),g=s[0],d=s[1],p=r.a.useState(t.bggName),f=Object(b.a)(p,2),E=f[0],w=f[1],y=r.a.useState(t.age),h=Object(b.a)(y,2),v=h[0],O=h[1],C=r.a.useState(t.email),j=Object(b.a)(C,2),S=j[0],N=j[1],P=r.a.useState(t.thumbnail),x=Object(b.a)(P,2),k=x[0],A=(x[1],r.a.useMemo(function(){return S?function(e,t){return t=t||80,"http://www.gravatar.com/avatar/"+function(e){function t(e,t){return e<<t|e>>>32-t}function a(e,t){var a,n,r,l,c;return r=2147483648&e,l=2147483648&t,c=(1073741823&e)+(1073741823&t),(a=1073741824&e)&(n=1073741824&t)?2147483648^c^r^l:a|n?1073741824&c?3221225472^c^r^l:1073741824^c^r^l:c^r^l}function n(e,n,r,l,c,o,u){return e=a(e,a(a(function(e,t,a){return e&t|~e&a}(n,r,l),c),u)),a(t(e,o),n)}function r(e,n,r,l,c,o,u){return e=a(e,a(a(function(e,t,a){return e&a|t&~a}(n,r,l),c),u)),a(t(e,o),n)}function l(e,n,r,l,c,o,u){return e=a(e,a(a(function(e,t,a){return e^t^a}(n,r,l),c),u)),a(t(e,o),n)}function c(e,n,r,l,c,o,u){return e=a(e,a(a(function(e,t,a){return t^(e|~a)}(n,r,l),c),u)),a(t(e,o),n)}function o(e){var t,a="",n="";for(t=0;t<=3;t++)a+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return a}var u,i,m,s,g,d,b,p,f,E;for(u=function(e){for(var t,a=e.length,n=a+8,r=16*((n-n%64)/64+1),l=Array(r-1),c=0,o=0;o<a;)c=o%4*8,l[t=(o-o%4)/4]=l[t]|e.charCodeAt(o)<<c,o++;return c=o%4*8,l[t=(o-o%4)/4]=l[t]|128<<c,l[r-2]=a<<3,l[r-1]=a>>>29,l}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),b=1732584193,p=4023233417,f=2562383102,E=271733878,i=0;i<u.length;i+=16)m=b,s=p,g=f,d=E,b=n(b,p,f,E,u[i+0],7,3614090360),E=n(E,b,p,f,u[i+1],12,3905402710),f=n(f,E,b,p,u[i+2],17,606105819),p=n(p,f,E,b,u[i+3],22,3250441966),b=n(b,p,f,E,u[i+4],7,4118548399),E=n(E,b,p,f,u[i+5],12,1200080426),f=n(f,E,b,p,u[i+6],17,2821735955),p=n(p,f,E,b,u[i+7],22,4249261313),b=n(b,p,f,E,u[i+8],7,1770035416),E=n(E,b,p,f,u[i+9],12,2336552879),f=n(f,E,b,p,u[i+10],17,4294925233),p=n(p,f,E,b,u[i+11],22,2304563134),b=n(b,p,f,E,u[i+12],7,1804603682),E=n(E,b,p,f,u[i+13],12,4254626195),f=n(f,E,b,p,u[i+14],17,2792965006),b=r(b,p=n(p,f,E,b,u[i+15],22,1236535329),f,E,u[i+1],5,4129170786),E=r(E,b,p,f,u[i+6],9,3225465664),f=r(f,E,b,p,u[i+11],14,643717713),p=r(p,f,E,b,u[i+0],20,3921069994),b=r(b,p,f,E,u[i+5],5,3593408605),E=r(E,b,p,f,u[i+10],9,38016083),f=r(f,E,b,p,u[i+15],14,3634488961),p=r(p,f,E,b,u[i+4],20,3889429448),b=r(b,p,f,E,u[i+9],5,568446438),E=r(E,b,p,f,u[i+14],9,3275163606),f=r(f,E,b,p,u[i+3],14,4107603335),p=r(p,f,E,b,u[i+8],20,1163531501),b=r(b,p,f,E,u[i+13],5,2850285829),E=r(E,b,p,f,u[i+2],9,4243563512),f=r(f,E,b,p,u[i+7],14,1735328473),b=l(b,p=r(p,f,E,b,u[i+12],20,2368359562),f,E,u[i+5],4,4294588738),E=l(E,b,p,f,u[i+8],11,2272392833),f=l(f,E,b,p,u[i+11],16,1839030562),p=l(p,f,E,b,u[i+14],23,4259657740),b=l(b,p,f,E,u[i+1],4,2763975236),E=l(E,b,p,f,u[i+4],11,1272893353),f=l(f,E,b,p,u[i+7],16,4139469664),p=l(p,f,E,b,u[i+10],23,3200236656),b=l(b,p,f,E,u[i+13],4,681279174),E=l(E,b,p,f,u[i+0],11,3936430074),f=l(f,E,b,p,u[i+3],16,3572445317),p=l(p,f,E,b,u[i+6],23,76029189),b=l(b,p,f,E,u[i+9],4,3654602809),E=l(E,b,p,f,u[i+12],11,3873151461),f=l(f,E,b,p,u[i+15],16,530742520),b=c(b,p=l(p,f,E,b,u[i+2],23,3299628645),f,E,u[i+0],6,4096336452),E=c(E,b,p,f,u[i+7],10,1126891415),f=c(f,E,b,p,u[i+14],15,2878612391),p=c(p,f,E,b,u[i+5],21,4237533241),b=c(b,p,f,E,u[i+12],6,1700485571),E=c(E,b,p,f,u[i+3],10,2399980690),f=c(f,E,b,p,u[i+10],15,4293915773),p=c(p,f,E,b,u[i+1],21,2240044497),b=c(b,p,f,E,u[i+8],6,1873313359),E=c(E,b,p,f,u[i+15],10,4264355552),f=c(f,E,b,p,u[i+6],15,2734768916),p=c(p,f,E,b,u[i+13],21,1309151649),b=c(b,p,f,E,u[i+4],6,4149444226),E=c(E,b,p,f,u[i+11],10,3174756917),f=c(f,E,b,p,u[i+2],15,718787259),p=c(p,f,E,b,u[i+9],21,3951481745),b=a(b,m),p=a(p,s),f=a(f,g),E=a(E,d);return(o(b)+o(p)+o(f)+o(E)).toLowerCase()}(e.trim().toLowerCase())+".jpg?s="+t}(S,32):null},[S]));return r.a.createElement("div",{className:"w3-margin-bottom"},u&&r.a.createElement("div",null,r.a.createElement("form",{class:"w3-container"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",name:"name",value:g,onChange:function(e){return d(e.target.value)}}),r.a.createElement("label",null,"BGG"),r.a.createElement("input",{type:"text",name:"bggName",value:E,onChange:function(e){return w(e.target.value)}}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",name:"email",value:S,onChange:function(e){return N(e.target.value)}}),r.a.createElement("label",null,"Age"),r.a.createElement("input",{type:"number",name:"age",value:v,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",null,"Name: ",r.a.createElement("input",{type:"text",name:"name",value:g,onChange:function(e){return d(e.target.value)}})),r.a.createElement("div",null,"BGG: ",r.a.createElement("input",{type:"text",name:"bggName",value:E,onChange:function(e){return w(e.target.value)}})),r.a.createElement("div",{class:"w3-bar"},r.a.createElement("button",{class:"w3-button w3-blue",onClick:function(){a(t.id,{name:g,bggName:E,age:v}),i(!1)}},"Valid"),r.a.createElement("button",{class:"w3-button w3-light-grey",onClick:function(){return i(!1)}},"Cancel"))),!u&&r.a.createElement("div",null,A&&r.a.createElement("img",{alt:"gravatar",src:A}),!A&&k&&r.a.createElement("img",{alt:"thumbnail",src:k}),r.a.createElement("p",null,t.name),r.a.createElement("p",null,t.bggName),r.a.createElement("div",{class:"w3-bar"},r.a.createElement("button",{class:"w3-button w3-blue",onClick:function(){return i(!0)}},"Edit"),r.a.createElement("button",{class:"w3-button w3-red",onClick:function(){return n(t.id)}},"Remove"),r.a.createElement("button",{class:"w3-button w3-light-grey",onClick:function(){return l(t)},disabled:!t.bggName},"Fetch"))))}),S=Object(o.b)(function(e,t){return{players:e.bgg.players}},null)(function(e){return r.a.createElement("div",{className:"w3-border w3-border-black"},e.players.map(function(e,t){return r.a.createElement(j,{key:e.id,player:e})}))});var N=Object(o.b)(function(e,t){return{games:e.bgg.games}},null)(function(e){var t=e.games;return r.a.createElement("div",{className:"w3-white w3-margin-top w3-margin-bottom"},r.a.createElement("table",{className:"w3-table w3-striped w3-bordered w3-hoverable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"w3-teal"},r.a.createElement("th",null,"name"),r.a.createElement("th",null,"min"),r.a.createElement("th",null,"max"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.min),r.a.createElement("td",null,e.max))}))))}),P=Object(o.b)(function(e,t){return{games:e.bgg.games,nbPlayers:e.bgg.players.length}},null)(function(e){var t=r.a.useMemo(function(){return function(e,t){var a=e.filter(function(e){return e.min<=t&&t<=e.max});return 0===a.length?void 0:a[0]}(e.games,e.nbPlayers)},[e.nbPlayers,e.games.length]);return t?r.a.createElement("div",{className:"w3-panel w3-pale-green w3-bottombar w3-border-green w3-border"},r.a.createElement("h1",null,t.name),r.a.createElement("h2",null,"min: ".concat(t.min," | max: ").concat(t.max))):r.a.createElement("div",{className:"w3-margin w3-card w3-yellow"},r.a.createElement("h3",null,"no game :("))}),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).addPlayer=function(){var e={};fetch("https://randomuser.me/api/").then(function(e){return e.json()}).then(function(t){e=t.results[0],console.log("addPlayer testNewPlayer",JSON.stringify(e,null,2));var n={id:e.login.uuid,name:e.name.first,bggName:"",age:e.dob.age,color:"blue",fetched:!1,email:"",thumbnail:e.picture.thumbnail};a.props.addPlayerToStore(n)})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"w3-row w3-light-blue"},r.a.createElement("div",{className:"w3-third w3-container"},r.a.createElement(P,null)),r.a.createElement("div",{className:"w3-third w3-container"},r.a.createElement("button",{className:"w3-button w3-block w3-ripple w3-teal w3-round-xxlarge w3-xlarge w3-margin-top w3-margin-bottom",onClick:this.addPlayer},"Add player"),r.a.createElement(S,null)),r.a.createElement("div",{className:"w3-third w3-container"},r.a.createElement(N,null)))}}]),t}(n.Component),k={addPlayerToStore:function(e){return{type:"ADD_PLAYER",payload:{player:e}}}},A=Object(o.b)(null,k)(x),_=a(4),L=a(68),T=a(44),D=a(69),R=a.n(D),G=a(72),Y=a(14),I={players:[],games:[]},$={key:"root",storage:R.a,whitelist:["bgg"]},F=Object(_.c)({bgg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action.type=",t.type),console.log("action.type=",t.payload),t.type){case"ADD_PLAYER":return Object(Y.a)(e,function(e){e.players.push(t.payload.player)});case"DELETE_PLAYER":return Object(Y.a)(e,function(e){e.players=e.players.filter(function(e){return e.id!==t.payload.playerId})});case"UPDATE_PLAYER":return Object(Y.a)(e,function(e){e.players=e.players.map(function(e){return e.id!==t.payload.playerId?e:Object(G.a)({},e,t.payload.playerData)})});case"FETCH_PLAYER_GAMES":return Object(Y.a)(e,function(e){e.games=t.payload});default:return e}}}),M=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.d,B=Object(_.e)(Object(T.a)($,F),M(Object(_.a)(L.a))),J=Object(T.b)(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:B},r.a.createElement(u.a,{loading:null,persistor:J},r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,a){e.exports=a(128)},97:function(e,t){},99:function(e,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.3ceb9c25.chunk.js.map