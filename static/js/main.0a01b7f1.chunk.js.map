{"version":3,"sources":["selectors/index.js","components/Game.js","components/BestGame.js","constants/pages.js","components/Footer.js","contexts/modal-context.js","components/GameRow.js","components/Games.js","utils/Gravatar.js","components/GameInModal.js","components/ModalGame.js","action/index.js","components/Player.js","components/Players.js","components/WishedGames.js","App.js","reducers/index.js","store/configure.js","serviceWorker.js","index.js"],"names":["getGameIds","createSelector","state","bgg","ownership","reduce","acc","o","status","own","game","games","find","x","id","gameId","extends","push","name","sort","a","b","localeCompare","map","filter","uniqueId","gameIds","getWishedGameIds","getOwnedGames","extensionsSelector","props","undefined","y","z","min","max","thumbnail","getGameRowData","extensions","getGameData","ownerIds","playerId","players","owners","minage","description","getNbPlayers","length","nbPlayers","value","index","self","slice","findIndex","currentValue","i","r","connect","ownProps","_ref","react_default","createElement","className","concat","style","whiteSpace","href","React","useMemo","filteredGames","selectGameId","components_Game","Page","Home","Players","Games","Selected","pages","icon","Footer","page","key","onClick","e","ModalContext","createContext","modalGameId","setModalGame","odd","backgroundColor","parseInt","minClass","maxClass","Consumer","_ref2","Fragment","display","flexDirection","minHeight","flex","console","log","alt","src","width","height","extension","extensionBackgroundFilter","alignSelf","components_GameRow","get_gravatar","email","size","s","L","k","d","K","G","I","F","H","u","aa","Z","f","q","D","p","t","n","B","toString","substr","C","P","h","E","v","g","Y","X","W","V","Array","charCodeAt","replace","String","fromCharCode","J","toLowerCase","MD5","trim","JSON","stringify","Owner","owner","gravatar","ModalGame","components_GameInModal","setPlayerGames","type","payload","mapDispatchToProps","updatePlayerToStore","playerData","deletePlayerFromStore","fetchPlayerGames","player","Object","asyncToGenerator","regenerator_default","mark","_callee","dispatch","getState","response","existingIds","idsArray","idsQueryString","responseGame","wrap","_context","prev","next","bggName","axios","get","sent","parseString","data","err","_games","items","item","$","objectid","minplayers","maxplayers","minplaytime","maxplaytime","playingtime","image","link","accumulator","t0","error","stop","_x","_x2","apply","this","arguments","_React$useState","useState","_React$useState2","slicedToArray","editMode","setEditMode","_React$useState3","_React$useState4","setName","_React$useState5","_React$useState6","setBggName","_React$useState7","age","_React$useState8","setAge","_React$useState9","_React$useState10","setEmail","onChange","target","components_Player","App","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","addPlayer","fetch","then","results","json","testNewPlayer","newPlayer","login","uuid","first","dob","color","fetched","picture","addPlayerToStore","handlePageChange","event","setState","objectSpread","Provider","components_ModalGame","components_BestGame","components_Players","components_Games","components_WishedGames","components_Footer","Component","initialState","persistConfig","storage","whitelist","rootReducer","combineReducers","action","produce","draft","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","persistReducer","applyMiddleware","thunk","persistor","persistStore","Boolean","location","hostname","match","ReactDOM","render","es","integration_react","loading","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0a01b7f1.chunk.js","sourcesContent":["import { createSelector } from \"reselect\";\r\n\r\n// const shopItemsSelector = state => state.shop.items;\r\n// const taxPercentSelector = state => state.shop.taxPercent;\r\n\r\n// const subtotalSelector = createSelector(\r\n//   shopItemsSelector,\r\n//   items => items.reduce((acc, item) => acc + item.value, 0)\r\n// );\r\n\r\n// const taxSelector = createSelector(\r\n//   subtotalSelector,\r\n//   taxPercentSelector,\r\n//   (subtotal, taxPercent) => subtotal * (taxPercent / 100)\r\n// );\r\n\r\n// export const totalSelector = createSelector(\r\n//   subtotalSelector,\r\n//   taxSelector,\r\n//   (subtotal, tax) => ({ total: subtotal + tax })\r\n// );\r\n\r\n/*\r\n\r\n  Games related selectors\r\n\r\n*/\r\nconst gameIdsSelector = state =>\r\n  state.bgg.ownership\r\n    .reduce((acc, o) => {\r\n      if (o.status.own === \"1\") {\r\n        // On exclu les extensions\r\n        let game = state.bgg.games.find(x => x.id === o.gameId);\r\n        if (game && !game.extends) {\r\n          acc.push({ id: o.gameId, name: game.name });\r\n        }\r\n      }\r\n      return acc;\r\n    }, [])\r\n    .sort((a, b) => a.name.localeCompare(b.name))\r\n    .map(game => game.id)\r\n    .filter(uniqueId);\r\n\r\nexport const getGameIds = createSelector(\r\n  gameIdsSelector,\r\n  gameIds => gameIds\r\n);\r\n\r\nconst wishedGameIdsSelector = state =>\r\n  state.bgg.ownership.reduce((acc, o) => {\r\n    if (o.status.own !== \"1\") {\r\n      acc.push(o.gameId);\r\n    }\r\n    return acc;\r\n  }, []);\r\n\r\nexport const getWishedGameIds = createSelector(\r\n  wishedGameIdsSelector,\r\n  gameIds => gameIds\r\n);\r\n\r\nconst ownedGamesSelector = state =>\r\n  state.bgg.ownership.reduce((acc, o) => {\r\n    if (o.status.own === \"1\") {\r\n      acc.push(o);\r\n    }\r\n    return acc;\r\n  }, []);\r\n\r\nexport const getOwnedGames = createSelector(\r\n  ownedGamesSelector,\r\n  games => games\r\n);\r\n\r\nconst extensionsSelector = (state, props) => {\r\n  return state.bgg.games\r\n    .filter(x => x.extends && x.extends.find(y => y === props.id) !== undefined)\r\n    .map(z => {\r\n      let extension = { id: z.id, name: z.name, min: z.min, max: z.max, thumbnail: z.thumbnail };\r\n      return extension;\r\n    });\r\n};\r\n\r\n/*\r\n\r\n  Game ROW\r\n\r\n*/\r\nconst gameRowDataSelector = (state, props) => state.bgg.games.find(x => x.id === props.id);\r\n\r\nexport const getGameRowData = createSelector(\r\n  gameRowDataSelector,\r\n  extensionsSelector,\r\n  (game, extensions) => {\r\n    var g = { name: game.name, thumbnail: game.thumbnail, min: game.min, max: game.max, extensions };\r\n    return g;\r\n  }\r\n);\r\n\r\n/*\r\n\r\n  Game ROW\r\n\r\n*/\r\n\r\nconst gameDataSelector = (state, props) => state.bgg.games.find(x => x.id === props.id);\r\n\r\nconst ownersSelector = (state, props) => {\r\n  var ownerIds = state.bgg.ownership.filter(x => x.gameId === props.id && x.status.own === \"1\").map(z => z.playerId);\r\n  return state.bgg.players.filter(x => ownerIds.find(y => y === x.id));\r\n};\r\n\r\nexport const getGameData = createSelector(\r\n  gameDataSelector,\r\n  extensionsSelector,\r\n  ownersSelector,\r\n  (game, extensions, owners) => {\r\n    if (!game) {\r\n      return null;\r\n    }\r\n    var g = {\r\n      // id: game.id,\r\n      name: game.name,\r\n      thumbnail: game.thumbnail,\r\n      min: game.min,\r\n      max: game.max,\r\n      minage: game.minage,\r\n      description: game.description,\r\n      extensions, // TODO map with More infos\r\n      owners, // TODO map with less infos\r\n      extends: game.extends\r\n      // Extends\r\n    };\r\n    return g;\r\n  }\r\n);\r\n\r\n/*\r\n\r\n  Players related selectors\r\n\r\n*/\r\nconst getNbPlayersSelector = (state, props) => {\r\n  return state.bgg.players.length;\r\n};\r\n\r\nexport const getNbPlayers = createSelector(\r\n  getNbPlayersSelector,\r\n  nbPlayers => nbPlayers\r\n);\r\n\r\n/*\r\n\r\n  Various internal function\r\n\r\n*/\r\nfunction uniqueId(value, index, self) {\r\n  return self.slice(index + 1).findIndex((currentValue, i, r) => currentValue === value) === -1;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Game = ({ id, game }) => {\r\n  // console.log(\"id\", id);\r\n  // console.log(\"game\", game);\r\n\r\n  if (!game) {\r\n    return (\r\n      <div className=\"w3-margin w3-card w3-yellow\">\r\n        <h3>no game :(</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w3-panel w3-pale-green w3-bottombar w3-border-green w3-border\">\r\n      <h1>{game.name}</h1>\r\n      <h2>{`min: ${game.min} | max: ${game.max}`}</h2>\r\n      <p style={{ whiteSpace: \"pre-line\" }}>{game.description}</p>\r\n\r\n      <a href={\"https://boardgamegeek.com/boardgame/\" + game.id}>View on boardgamegeek.com</a>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // TODO use selector\r\n\r\n  return {\r\n    game: state.bgg.games ? state.bgg.games.find(x => x.id === ownProps.id) : null\r\n  };\r\n};\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   fetchReclamation: id => dispatch(fetchReclamation(id)),\r\n//   initDetailsReclamation: () => dispatch(initDetailsReclamation())\r\n// });\r\n\r\nGame.propTypes = {\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(Game);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getOwnedGames } from \"../selectors\";\r\n\r\nimport Game from \"../components/Game\";\r\n\r\nconst selectGameId = (games, nbPlayers) => {\r\n  var filteredGames = games.filter(x => x.min <= nbPlayers && nbPlayers <= x.max);\r\n  return filteredGames.length === 0 ? undefined : filteredGames[0].id;\r\n};\r\n\r\nconst BestGame = props => {\r\n  const gameId = React.useMemo(\r\n    () => selectGameId(props.games, props.nbPlayers),\r\n    [props.nbPlayers, props.games] // update this hook only if nbPlayers changed or games have changed\r\n  );\r\n\r\n  if (!gameId) {\r\n    return (\r\n      <div className=\"w3-margin w3-card w3-yellow\">\r\n        <h3>no game :(</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Game id={gameId} />;\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  // TODO use a selector\r\n\r\n  return {\r\n    games: getOwnedGames(state),\r\n    nbPlayers: state.bgg.players.length\r\n  };\r\n};\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   fetchReclamation: id => dispatch(fetchReclamation(id)),\r\n//   initDetailsReclamation: () => dispatch(initDetailsReclamation())\r\n// });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(BestGame);\r\n","export const Page = {\r\n  Home: 0,\r\n  Players: 1,\r\n  Games: 2,\r\n  Selected: 3\r\n\r\n  // Joueur: 3,\r\n  // Jeu: 4,\r\n  // Whishlist: 5\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { Page } from \"../constants/pages\";\r\n\r\n// https://fontawesome.com/icons?d=gallery&m=free\r\n\r\nconst pages = [\r\n  {\r\n    id: Page.Home,\r\n    name: \"Menu\",\r\n    icon: \"fas fa-home\"\r\n  },\r\n  {\r\n    id: Page.Players,\r\n    name: \"Players\",\r\n    icon: \"fas fa-address-book\"\r\n  },\r\n  {\r\n    id: Page.Games,\r\n    name: \"Games\",\r\n    icon: \"fas fa-dice-d6\"\r\n  },\r\n  {\r\n    id: Page.Selected,\r\n    name: \"Selected\",\r\n    icon: \"fas fa-clipboard-check\"\r\n  }\r\n];\r\n\r\nconst Footer = props => {\r\n  return (\r\n    <footer className=\"w3-container w3-theme-d5 bgg-footer\">\r\n      {pages.map((page, index) => (\r\n        <div\r\n          key={index}\r\n          className={\"w3-panel bgg-footer-item \" + (page.id === props.page ? \"selected w3-text-theme\" : \"\")}\r\n          onClick={e => props.onClick(e, page.id)}\r\n        >\r\n          <i className={page.icon} />\r\n          <span>{page.name}</span>\r\n        </div>\r\n      ))}\r\n    </footer>\r\n  );\r\n};\r\n\r\nFooter.propTypes = {\r\n  page: PropTypes.number.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nexport const ModalContext = React.createContext({\r\n  modalGameId: \"0\",\r\n  setModalGame: () => {}\r\n});\r\n\r\n// https://reactjs.org/docs/context.html#when-to-use-context\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { getGameRowData } from \"../selectors\";\r\nimport { getNbPlayers } from \"../selectors\";\r\n\r\nimport { ModalContext } from \"../contexts/modal-context.js\";\r\n\r\nGameRow.propTypes = {\r\n  id: PropTypes.string.isRequired\r\n};\r\n\r\nfunction GameRow({ id, game, odd, nbPlayers }) {\r\n  if (!game) {\r\n    return null;\r\n  }\r\n\r\n  let backgroundColor = \"bgg-even\";\r\n  if (odd) {\r\n    backgroundColor = \"bgg-odd\";\r\n  }\r\n\r\n  let min = parseInt(game.min);\r\n  let max = parseInt(game.max);\r\n\r\n  let minClass = \"w3-blue\";\r\n  let maxClass = \"w3-blue\";\r\n\r\n  if (nbPlayers === min && nbPlayers === max) {\r\n    minClass = maxClass = \"w3-green\";\r\n  }\r\n\r\n  if (nbPlayers < min || nbPlayers > max) {\r\n    minClass = maxClass = \"w3-red\";\r\n  }\r\n\r\n  return (\r\n    <ModalContext.Consumer>\r\n      {({ modalGameId, setModalGame }) => (\r\n        <React.Fragment>\r\n          <div\r\n            className={\"w3-bar \" + backgroundColor}\r\n            style={{ display: \"flex\", flexDirection: \"row\", minHeight: \"100px\" }}\r\n          >\r\n            <div\r\n              className=\"w3-padding-small\"\r\n              style={{ flex: \"0 1 100px\" }}\r\n              onClick={() => {\r\n                console.log(\"GameRow setModalGame:\", id);\r\n                setModalGame(id);\r\n              }}\r\n            >\r\n              <img\r\n                alt=\"thumbnail\"\r\n                src={game.thumbnail}\r\n                className=\"w3-circle\"\r\n                style={{ width: \"100px\", height: \"75px\" }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"                 w3-large w3-margin-top\" style={{ flex: \"1 1 auto\" }}>\r\n              {game.name}\r\n            </div>\r\n\r\n            <div className=\"w3-padding-small w3-large w3-margin-top w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n              <span className={minClass}>{game.min}</span>\r\n            </div>\r\n\r\n            <div className=\"w3-padding-small w3-large w3-margin-top w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n              <span className={maxClass}>{game.max}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {game.extensions &&\r\n            game.extensions.map((extension, index) => {\r\n              let extensionBackgroundFilter = \"bgg-extension-even\";\r\n              if (index & 1) {\r\n                extensionBackgroundFilter = \"bgg-extension-odd\";\r\n              }\r\n              let elem = (\r\n                <div\r\n                  key={index}\r\n                  className={\"w3-bar \" + backgroundColor + \" \" + extensionBackgroundFilter}\r\n                  style={{ display: \"flex\", flexDirection: \"row\", minHeight: \"75px\" }}\r\n                >\r\n                  <div\r\n                    className=\"w3-padding-small\"\r\n                    style={{ flex: \"0 1 116px\" }}\r\n                    onClick={() => {\r\n                      console.log(\"GameRow extension setModalGame:\", extension.id);\r\n                      setModalGame(extension.id);\r\n                    }}\r\n                  >\r\n                    {/* <i class=\"fas fa-caret-right\" /> */}\r\n\r\n                    <img\r\n                      alt=\"thumbnail\"\r\n                      src={extension.thumbnail}\r\n                      className=\"w3-circle\"\r\n                      style={{ width: \"50px\", height: \"37px\", alignSelf: \"center\" }}\r\n                    />\r\n                  </div>\r\n                  <div className=\"                 w3-large w3-margin-top\" style={{ flex: \"1 1 auto\" }}>\r\n                    <i className=\"fas fa-level-up-alt fa-rotate-90\" /> {extension.name}\r\n                  </div>\r\n\r\n                  <div className=\"w3-padding-small w3-small w3-margin-top w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n                    {extension.min}\r\n                  </div>\r\n\r\n                  <div className=\"w3-padding-small w3-small w3-margin-top w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n                    {extension.max}\r\n                  </div>\r\n                </div>\r\n              );\r\n\r\n              return elem;\r\n            })}\r\n        </React.Fragment>\r\n      )}\r\n    </ModalContext.Consumer>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { game: getGameRowData(state, ownProps), nbPlayers: getNbPlayers(state, ownProps) };\r\n};\r\n\r\n// const mapDispatchToProps = dispatch => ({\r\n//   fetchReclamation: id => dispatch(fetchReclamation(id)),\r\n//   initDetailsReclamation: () => dispatch(initDetailsReclamation())\r\n// });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(GameRow);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getGameIds } from \"../selectors\";\r\n\r\nimport GameRow from \"../components/GameRow\";\r\n\r\nfunction Games({ gameIds }) {\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <div className=\"w3-bar bgg-table-header\" style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n          <div className=\"w3-padding-small w3-large\" style={{ flex: \"1 1 auto\" }}>\r\n            name ({gameIds.length})\r\n          </div>\r\n\r\n          <div className=\"w3-padding-small w3-large w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n            min\r\n          </div>\r\n\r\n          <div className=\"w3-padding-small w3-large w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n            max\r\n          </div>\r\n        </div>\r\n\r\n        {gameIds.map((id, index) => (\r\n          <GameRow key={id} id={id} odd={index & 1} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { gameIds: getGameIds(state) };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(Games);\r\n","export function get_gravatar(email, size) {\r\n  // MD5 (Message-Digest Algorithm) by WebToolkit\r\n  //\r\n\r\n  var MD5 = function(s) {\r\n    function L(k, d) {\r\n      return (k << d) | (k >>> (32 - d));\r\n    }\r\n    function K(G, k) {\r\n      var I, d, F, H, x;\r\n      F = G & 2147483648;\r\n      H = k & 2147483648;\r\n      I = G & 1073741824;\r\n      d = k & 1073741824;\r\n      x = (G & 1073741823) + (k & 1073741823);\r\n      if (I & d) {\r\n        return x ^ 2147483648 ^ F ^ H;\r\n      }\r\n      if (I | d) {\r\n        if (x & 1073741824) {\r\n          return x ^ 3221225472 ^ F ^ H;\r\n        } else {\r\n          return x ^ 1073741824 ^ F ^ H;\r\n        }\r\n      } else {\r\n        return x ^ F ^ H;\r\n      }\r\n    }\r\n    function r(d, F, k) {\r\n      return (d & F) | (~d & k);\r\n    }\r\n    function q(d, F, k) {\r\n      return (d & k) | (F & ~k);\r\n    }\r\n    function p(d, F, k) {\r\n      return d ^ F ^ k;\r\n    }\r\n    function n(d, F, k) {\r\n      return F ^ (d | ~k);\r\n    }\r\n    function u(G, F, aa, Z, k, H, I) {\r\n      G = K(G, K(K(r(F, aa, Z), k), I));\r\n      return K(L(G, H), F);\r\n    }\r\n    function f(G, F, aa, Z, k, H, I) {\r\n      G = K(G, K(K(q(F, aa, Z), k), I));\r\n      return K(L(G, H), F);\r\n    }\r\n    function D(G, F, aa, Z, k, H, I) {\r\n      G = K(G, K(K(p(F, aa, Z), k), I));\r\n      return K(L(G, H), F);\r\n    }\r\n    function t(G, F, aa, Z, k, H, I) {\r\n      G = K(G, K(K(n(F, aa, Z), k), I));\r\n      return K(L(G, H), F);\r\n    }\r\n    function e(G) {\r\n      var Z;\r\n      var F = G.length;\r\n      var x = F + 8;\r\n      var k = (x - (x % 64)) / 64;\r\n      var I = (k + 1) * 16;\r\n      var aa = Array(I - 1);\r\n      var d = 0;\r\n      var H = 0;\r\n      while (H < F) {\r\n        Z = (H - (H % 4)) / 4;\r\n        d = (H % 4) * 8;\r\n        aa[Z] = aa[Z] | (G.charCodeAt(H) << d);\r\n        H++;\r\n      }\r\n      Z = (H - (H % 4)) / 4;\r\n      d = (H % 4) * 8;\r\n      aa[Z] = aa[Z] | (128 << d);\r\n      aa[I - 2] = F << 3;\r\n      aa[I - 1] = F >>> 29;\r\n      return aa;\r\n    }\r\n    function B(x) {\r\n      var k = \"\",\r\n        F = \"\",\r\n        G,\r\n        d;\r\n      for (d = 0; d <= 3; d++) {\r\n        G = (x >>> (d * 8)) & 255;\r\n        F = \"0\" + G.toString(16);\r\n        k = k + F.substr(F.length - 2, 2);\r\n      }\r\n      return k;\r\n    }\r\n    function J(k) {\r\n      k = k.replace(/rn/g, \"n\");\r\n      var d = \"\";\r\n      for (var F = 0; F < k.length; F++) {\r\n        var x = k.charCodeAt(F);\r\n        if (x < 128) {\r\n          d += String.fromCharCode(x);\r\n        } else {\r\n          if (x > 127 && x < 2048) {\r\n            d += String.fromCharCode((x >> 6) | 192);\r\n            d += String.fromCharCode((x & 63) | 128);\r\n          } else {\r\n            d += String.fromCharCode((x >> 12) | 224);\r\n            d += String.fromCharCode(((x >> 6) & 63) | 128);\r\n            d += String.fromCharCode((x & 63) | 128);\r\n          }\r\n        }\r\n      }\r\n      return d;\r\n    }\r\n    var C = [];\r\n    var P, h, E, v, g, Y, X, W, V;\r\n    var S = 7,\r\n      Q = 12,\r\n      N = 17,\r\n      M = 22;\r\n    var A = 5,\r\n      z = 9,\r\n      y = 14,\r\n      w = 20;\r\n    var o = 4,\r\n      m = 11,\r\n      l = 16,\r\n      j = 23;\r\n    var U = 6,\r\n      T = 10,\r\n      R = 15,\r\n      O = 21;\r\n    s = J(s);\r\n    C = e(s);\r\n    Y = 1732584193;\r\n    X = 4023233417;\r\n    W = 2562383102;\r\n    V = 271733878;\r\n    for (P = 0; P < C.length; P += 16) {\r\n      h = Y;\r\n      E = X;\r\n      v = W;\r\n      g = V;\r\n      Y = u(Y, X, W, V, C[P + 0], S, 3614090360);\r\n      V = u(V, Y, X, W, C[P + 1], Q, 3905402710);\r\n      W = u(W, V, Y, X, C[P + 2], N, 606105819);\r\n      X = u(X, W, V, Y, C[P + 3], M, 3250441966);\r\n      Y = u(Y, X, W, V, C[P + 4], S, 4118548399);\r\n      V = u(V, Y, X, W, C[P + 5], Q, 1200080426);\r\n      W = u(W, V, Y, X, C[P + 6], N, 2821735955);\r\n      X = u(X, W, V, Y, C[P + 7], M, 4249261313);\r\n      Y = u(Y, X, W, V, C[P + 8], S, 1770035416);\r\n      V = u(V, Y, X, W, C[P + 9], Q, 2336552879);\r\n      W = u(W, V, Y, X, C[P + 10], N, 4294925233);\r\n      X = u(X, W, V, Y, C[P + 11], M, 2304563134);\r\n      Y = u(Y, X, W, V, C[P + 12], S, 1804603682);\r\n      V = u(V, Y, X, W, C[P + 13], Q, 4254626195);\r\n      W = u(W, V, Y, X, C[P + 14], N, 2792965006);\r\n      X = u(X, W, V, Y, C[P + 15], M, 1236535329);\r\n      Y = f(Y, X, W, V, C[P + 1], A, 4129170786);\r\n      V = f(V, Y, X, W, C[P + 6], z, 3225465664);\r\n      W = f(W, V, Y, X, C[P + 11], y, 643717713);\r\n      X = f(X, W, V, Y, C[P + 0], w, 3921069994);\r\n      Y = f(Y, X, W, V, C[P + 5], A, 3593408605);\r\n      V = f(V, Y, X, W, C[P + 10], z, 38016083);\r\n      W = f(W, V, Y, X, C[P + 15], y, 3634488961);\r\n      X = f(X, W, V, Y, C[P + 4], w, 3889429448);\r\n      Y = f(Y, X, W, V, C[P + 9], A, 568446438);\r\n      V = f(V, Y, X, W, C[P + 14], z, 3275163606);\r\n      W = f(W, V, Y, X, C[P + 3], y, 4107603335);\r\n      X = f(X, W, V, Y, C[P + 8], w, 1163531501);\r\n      Y = f(Y, X, W, V, C[P + 13], A, 2850285829);\r\n      V = f(V, Y, X, W, C[P + 2], z, 4243563512);\r\n      W = f(W, V, Y, X, C[P + 7], y, 1735328473);\r\n      X = f(X, W, V, Y, C[P + 12], w, 2368359562);\r\n      Y = D(Y, X, W, V, C[P + 5], o, 4294588738);\r\n      V = D(V, Y, X, W, C[P + 8], m, 2272392833);\r\n      W = D(W, V, Y, X, C[P + 11], l, 1839030562);\r\n      X = D(X, W, V, Y, C[P + 14], j, 4259657740);\r\n      Y = D(Y, X, W, V, C[P + 1], o, 2763975236);\r\n      V = D(V, Y, X, W, C[P + 4], m, 1272893353);\r\n      W = D(W, V, Y, X, C[P + 7], l, 4139469664);\r\n      X = D(X, W, V, Y, C[P + 10], j, 3200236656);\r\n      Y = D(Y, X, W, V, C[P + 13], o, 681279174);\r\n      V = D(V, Y, X, W, C[P + 0], m, 3936430074);\r\n      W = D(W, V, Y, X, C[P + 3], l, 3572445317);\r\n      X = D(X, W, V, Y, C[P + 6], j, 76029189);\r\n      Y = D(Y, X, W, V, C[P + 9], o, 3654602809);\r\n      V = D(V, Y, X, W, C[P + 12], m, 3873151461);\r\n      W = D(W, V, Y, X, C[P + 15], l, 530742520);\r\n      X = D(X, W, V, Y, C[P + 2], j, 3299628645);\r\n      Y = t(Y, X, W, V, C[P + 0], U, 4096336452);\r\n      V = t(V, Y, X, W, C[P + 7], T, 1126891415);\r\n      W = t(W, V, Y, X, C[P + 14], R, 2878612391);\r\n      X = t(X, W, V, Y, C[P + 5], O, 4237533241);\r\n      Y = t(Y, X, W, V, C[P + 12], U, 1700485571);\r\n      V = t(V, Y, X, W, C[P + 3], T, 2399980690);\r\n      W = t(W, V, Y, X, C[P + 10], R, 4293915773);\r\n      X = t(X, W, V, Y, C[P + 1], O, 2240044497);\r\n      Y = t(Y, X, W, V, C[P + 8], U, 1873313359);\r\n      V = t(V, Y, X, W, C[P + 15], T, 4264355552);\r\n      W = t(W, V, Y, X, C[P + 6], R, 2734768916);\r\n      X = t(X, W, V, Y, C[P + 13], O, 1309151649);\r\n      Y = t(Y, X, W, V, C[P + 4], U, 4149444226);\r\n      V = t(V, Y, X, W, C[P + 11], T, 3174756917);\r\n      W = t(W, V, Y, X, C[P + 2], R, 718787259);\r\n      X = t(X, W, V, Y, C[P + 9], O, 3951481745);\r\n      Y = K(Y, h);\r\n      X = K(X, E);\r\n      W = K(W, v);\r\n      V = K(V, g);\r\n    }\r\n    var i = B(Y) + B(X) + B(W) + B(V);\r\n    return i.toLowerCase();\r\n  };\r\n\r\n  size = size || 80;\r\n\r\n  return \"https://www.gravatar.com/avatar/\" + MD5(email.trim().toLowerCase()) + \".jpg?d=identicon&s=\" + size;\r\n}\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getGameData } from \"../selectors\";\r\n\r\nimport { get_gravatar } from \"../utils/Gravatar\";\r\n\r\nconst GameInModal = ({ id, game, setModalGame }) => {\r\n  if (!game) {\r\n    return (\r\n      <div className=\"w3-margin w3-card w3-yellow\">\r\n        <h3>no game :(</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  console.log(JSON.stringify(game, null, 2));\r\n\r\n  const NbPlayers = () => {\r\n    if (game.min === game.max && game.min === \"1\") {\r\n      return `Solo game`;\r\n    }\r\n\r\n    if (game.min === game.max && game.min === \"2\") {\r\n      return `Duel game`;\r\n    }\r\n\r\n    if (game.min === game.max) {\r\n      return `Exactly ${game.min} players`;\r\n    }\r\n\r\n    return `Number of players from ${game.min} to ${game.max}`;\r\n  };\r\n\r\n  const Owners = () => {\r\n    return game.owners ? game.owners.map((owner, index) => <Owner key={index} owner={owner} />) : \"\";\r\n  };\r\n\r\n  const Owner = ({ owner }) => {\r\n    var gravatar = owner.email ? get_gravatar(owner.email, 30) : null;\r\n\r\n    if (gravatar) {\r\n      return <img alt=\"gravatar\" src={gravatar} className=\"w3-bar-item w3-circle\" style={{ width: \"30px\" }} />;\r\n    }\r\n\r\n    if (!gravatar && owner.thumbnail) {\r\n      return <img alt=\"thumbnail\" src={owner.thumbnail} className=\"w3-bar-item w3-circle\" style={{ width: \"30px\" }} />;\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <header className=\"w3-container w3-green\">\r\n        <span\r\n          onClick={() => {\r\n            setModalGame(\"0\");\r\n          }}\r\n          className=\"w3-button w3-display-topright\"\r\n        >\r\n          &times;\r\n        </span>\r\n        <h2>{game.name}</h2>\r\n      </header>\r\n\r\n      <div className=\"w3-padding w3-pale-green w3-bottombar w3-border-green w3-border\">\r\n        <h4>\r\n          <NbPlayers />\r\n        </h4>\r\n        <h4>Minimum age: {game.minage}</h4>\r\n\r\n        <Owners />\r\n\r\n        <p style={{ whiteSpace: \"pre-line\" }}>{game.description}</p>\r\n      </div>\r\n\r\n      <footer className=\"w3-container w3-green\">\r\n        <p>\r\n          <a href={\"https://boardgamegeek.com/boardgame/\" + id}>View on boardgamegeek.com</a>\r\n        </p>\r\n      </footer>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { game: getGameData(state, ownProps) };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(GameInModal);\r\n","import React from \"react\";\r\n\r\nimport { ModalContext } from \"../contexts/modal-context.js\";\r\n\r\nimport GameInModal from \"./GameInModal\";\r\n\r\nconst ModalGame = () => {\r\n  return (\r\n    <ModalContext.Consumer>\r\n      {({ modalGameId, setModalGame }) => (\r\n        <div className=\"w3-modal\" style={{ display: modalGameId === \"0\" ? \"none\" : \"block\" }}>\r\n          <div className=\"w3-modal-content  w3-transparent\">\r\n            <GameInModal id={modalGameId} setModalGame={setModalGame} />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ModalContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default ModalGame;\r\n","import { parseString } from \"xml2js\";\r\nimport axios from \"axios\";\r\n\r\nexport const ADD_PLAYER = \"ADD_PLAYER\";\r\nexport const addPlayerToStore = player => {\r\n  return {\r\n    type: ADD_PLAYER,\r\n    payload: {\r\n      player\r\n    }\r\n  };\r\n};\r\n\r\nexport const DELETE_PLAYER = \"DELETE_PLAYER\";\r\nexport const deletePlayerFromStore = playerId => {\r\n  return {\r\n    type: DELETE_PLAYER,\r\n    payload: {\r\n      playerId\r\n    }\r\n  };\r\n};\r\n\r\nexport const UPDATE_PLAYER = \"UPDATE_PLAYER\";\r\nexport const updatePlayerToStore = (playerId, playerData) => {\r\n  console.log(\"updatePlayerToStore\", playerId, JSON.stringify(playerData, null, 2));\r\n  return {\r\n    type: UPDATE_PLAYER,\r\n    payload: {\r\n      playerId,\r\n      playerData\r\n    }\r\n  };\r\n};\r\n\r\n// https://boardgamegeek.com/wiki/page/BGG_XML_API2\r\n\r\nexport const FETCH_PLAYER_GAMES = \"FETCH_PLAYER_GAMES\";\r\n\r\nconst setPlayerGames = (playerId, ownership, games) => ({\r\n  type: \"FETCH_PLAYER_GAMES\",\r\n  payload: { playerId, ownership, games }\r\n});\r\n\r\nexport const fetchPlayerGames = player => async (dispatch, getState) => {\r\n  // Appel  l'api\r\n  console.log(\"fetchPlayerGames\", player.id, player.bggName);\r\n\r\n  var games;\r\n  var ownership = [];\r\n\r\n  // TODO check how we can get rid of \"Access-Control-Allow-Origin\" at https://www.html5rocks.com/en/tutorials/cors/\r\n\r\n  // TODO treat : answer 202\r\n  // <?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?>\r\n  //  <message>\r\n  //   Your request for this collection has been accepted and will be processed.  Please try again later for access.\r\n  //  </message>\r\n\r\n  try {\r\n    const response = await axios.get(`https://www.boardgamegeek.com/xmlapi2/collection?username=${player.bggName}`);\r\n    parseString(response.data, function(err, _games) {\r\n      games = _games.items.item.map((x, index) => {\r\n        // console.log(`_games.items.item[${index}]=`, x);\r\n\r\n        let game = {\r\n          gameId: x.$.objectid,\r\n          playerId: player.id,\r\n          // name: x.name[0]._,\r\n          status: x.status[0].$\r\n        };\r\n\r\n        //console.log(`games[${index}]=`, JSON.stringify(game, null, 2));\r\n\r\n        return game;\r\n      });\r\n    });\r\n    ownership = games.filter(uniqueId);\r\n\r\n    // Remove games already known to limit the fetch !\r\n\r\n    var existingIds = getState().bgg.games.map(game => game.id);\r\n\r\n    var idsArray = ownership.map(o => o.gameId);\r\n    idsArray = idsArray.filter(id => existingIds.find(x => x === id) === undefined);\r\n\r\n    if (idsArray.length > 0) {\r\n      var idsQueryString = idsArray.reduce((acc, id) => acc + `${id},`, \"\");\r\n      idsQueryString = idsQueryString.slice(0, idsQueryString.length - 1);\r\n\r\n      const responseGame = await axios.get(`https://www.boardgamegeek.com/xmlapi2/thing?id=${idsQueryString}`);\r\n      parseString(responseGame.data, function(err, _games) {\r\n        //   console.log(\"_games=\", _games);\r\n        // console.log(\"_games.items=\", _games.items);\r\n\r\n        // TODO check x.$.type === 'boardgameexpansion'\r\n\r\n        games = _games.items.item.map((x, index) => {\r\n          // if (index === 0) {\r\n          // console.log(`_games.items.item[${index}]=`, x);\r\n          // }\r\n\r\n          // if (x.$.id === \"822\") {\r\n          // console.log(`_games.items.item[${index}]=`, x);\r\n          // }\r\n\r\n          let game = {\r\n            id: x.$.id,\r\n            type: x.$.type,\r\n            name: x.name[0].$.value,\r\n            minage: x.minage[0].$.value,\r\n            min: x.minplayers[0].$.value,\r\n            max: x.maxplayers[0].$.value,\r\n            minplaytime: x.minplaytime[0].$.value,\r\n            maxplaytime: x.maxplaytime[0].$.value,\r\n            playingtime: x.playingtime[0].$.value,\r\n            image: x.image[0],\r\n            thumbnail: x.thumbnail[0], // FIT IN 200x150\r\n            description: x.description[0]\r\n              .replace(/&apos;/g, \"'\")\r\n              .replace(/&quot;/g, '\"')\r\n              .replace(/&gt;/g, \">\")\r\n              .replace(/&lt;/g, \"<\")\r\n              .replace(/&amp;/g, \"&\")\r\n\r\n              .replace(/&auml;/g, \"\")\r\n              .replace(/&eacute;/g, \"\")\r\n              .replace(/&iuml;/g, \"\")\r\n              .replace(/&ouml;/g, \"\")\r\n              .replace(/&uuml;/g, \"\")\r\n\r\n              .replace(/&ndash;/g, \"-\")\r\n\r\n              .replace(/&szlig;/g, \"\")\r\n\r\n              .replace(/&#9;/g, \"\\n\")\r\n              .replace(/&#10;/g, \"\\n\")\r\n\r\n              .replace(/&rsquo;/g, \"\")\r\n\r\n              .replace(/&#31;/g, \"\")\r\n          };\r\n\r\n          if (game.type === \"boardgameexpansion\") {\r\n            game.extends = x.link.reduce((accumulator, currentValue) => {\r\n              if (currentValue.$.type === \"boardgameexpansion\") {\r\n                accumulator.push(currentValue.$.id);\r\n              }\r\n              return accumulator;\r\n            }, []);\r\n          }\r\n\r\n          // console.log(`games[${index}]=`, JSON.stringify(game, null, 2));\r\n\r\n          return game;\r\n        });\r\n        return;\r\n      });\r\n    }\r\n\r\n    dispatch(setPlayerGames(player.id, ownership, games));\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nfunction uniqueId(value, index, self) {\r\n  return self.slice(index + 1).findIndex((currentValue, i, r) => currentValue.gameId === value.gameId) === -1;\r\n}\r\n","// import React, { Component } from \"react\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { updatePlayerToStore, deletePlayerFromStore, fetchPlayerGames } from \"../action\";\r\n\r\nimport { get_gravatar } from \"../utils/Gravatar\";\r\n\r\nconst Player = ({ player, updatePlayerToStore, deletePlayerFromStore, fetchPlayerGames }) => {\r\n  const [editMode, setEditMode] = React.useState(false);\r\n  const [name, setName] = React.useState(player.name);\r\n  const [bggName, setBggName] = React.useState(player.bggName);\r\n  const [age, setAge] = React.useState(player.age);\r\n  const [email, setEmail] = React.useState(player.email);\r\n  // const [thumbnail, setThumbnail] = React.useState(player.thumbnail);\r\n\r\n  const gravatar = React.useMemo(() => (email ? get_gravatar(email, 85) : null), [email]);\r\n\r\n  const valid = () => {\r\n    updatePlayerToStore(player.id, { name, bggName, age, email });\r\n    setEditMode(false);\r\n  };\r\n\r\n  // Check here\r\n  // https://www.w3schools.com/w3css/tryit.asp?filename=tryw3css_lists_avatar\r\n\r\n  return (\r\n    <div className=\"w3-margin-bottom\">\r\n      {editMode && (\r\n        <React.Fragment>\r\n          <div className=\"w3-container w3-orange\">\r\n            <p>\r\n              <label>Name</label>\r\n              <input type=\"text\" name=\"name\" value={name} onChange={e => setName(e.target.value)} />\r\n            </p>\r\n\r\n            <p>\r\n              <label>BGG</label>\r\n              <input type=\"text\" name=\"bggName\" value={bggName} onChange={e => setBggName(e.target.value)} />\r\n            </p>\r\n\r\n            <p>\r\n              <label>Email</label>\r\n              <input type=\"text\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n            </p>\r\n\r\n            <p>\r\n              <label>Age</label>\r\n              <input type=\"number\" name=\"age\" value={age} onChange={e => setAge(e.target.value)} />\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"w3-bar\">\r\n            <button className=\"w3-button w3-blue\" onClick={valid}>\r\n              Valid\r\n            </button>\r\n            <button className=\"w3-button w3-light-grey\" onClick={() => setEditMode(false)}>\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n\r\n      {!editMode && (\r\n        <div>\r\n          <div className=\"w3-bar w3-white\" onClick={() => setEditMode(true)}>\r\n            <span\r\n              onClick={() => deletePlayerFromStore(player.id)}\r\n              className=\"w3-bar-item w3-button w3-white w3-xlarge w3-right\"\r\n            >\r\n              \r\n            </span>\r\n\r\n            {gravatar && (\r\n              <img alt=\"gravatar\" src={gravatar} className=\"w3-bar-item w3-circle\" style={{ width: \"85px\" }} />\r\n            )}\r\n            {!gravatar && player.thumbnail && (\r\n              <img alt=\"thumbnail\" src={player.thumbnail} className=\"w3-bar-item w3-circle\" style={{ width: \"85px\" }} />\r\n            )}\r\n\r\n            <div className=\"w3-bar-item\">\r\n              <p>\r\n                <span className=\"w3-large\">{player.name} </span>\r\n                <span className=\"w3-badge w3-green\">{player.age}</span>\r\n              </p>\r\n              <p>{player.bggName ? player.bggName : \"\\u00A0\"}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {player.bggName && (\r\n            <div className=\"w3-bar\">\r\n              <button className=\"w3-button w3-light-grey\" onClick={() => fetchPlayerGames(player)}>\r\n                Fetch\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nPlayer.propTypes = {\r\n  player: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updatePlayerToStore,\r\n  deletePlayerFromStore,\r\n  fetchPlayerGames\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(Player);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Player from \"./Player\";\r\n\r\nconst Players = props => {\r\n  return (\r\n    <div>\r\n      {props.players.map((player, index) => (\r\n        <Player key={player.id} player={player} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    players: state.bgg.players\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(Players);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getWishedGameIds } from \"../selectors\";\r\n\r\nimport GameRow from \"../components/GameRow\";\r\n\r\nfunction WishedGames({ gameIds }) {\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <div className=\"w3-bar w3-teal\" style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n          <div className=\"w3-padding-small w3-large\" style={{ flex: \"1 1 auto\" }}>\r\n            name ({gameIds.length})\r\n          </div>\r\n\r\n          <div className=\"w3-padding-small w3-large w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n            min\r\n          </div>\r\n\r\n          <div className=\"w3-padding-small w3-large w3-center\" style={{ flex: \"0 1 55px\" }}>\r\n            max\r\n          </div>\r\n        </div>\r\n\r\n        {gameIds.map((id, index) => (\r\n          <GameRow key={id} id={id} odd={index & 1} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { gameIds: getWishedGameIds(state) };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(WishedGames);\r\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport BestGame from \"./components/BestGame\";\nimport Footer from \"./components/Footer\";\nimport Games from \"./components/Games\";\nimport ModalGame from \"./components/ModalGame\";\nimport Players from \"./components/Players\";\nimport WishedGames from \"./components/WishedGames\";\n\nimport { addPlayerToStore } from \"./action\";\n\nimport { ModalContext } from \"./contexts/modal-context.js\";\nimport { Page } from \"./constants/pages\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setModalGame = id => {\n      console.log(\"App.setModalGame:\", id);\n      this.setState({\n        ...this.state,\n        modalGameId: id\n      });\n    };\n\n    this.state = {\n      modalGameId: \"0\",\n      setModalGame: this.setModalGame,\n      page: Page.Home\n    };\n  }\n\n  addPlayer = () => {\n    fetch(\"https://randomuser.me/api/\")\n      .then(results => results.json())\n      .then(data => {\n        let testNewPlayer = data.results[0];\n        // console.log(\"addPlayer testNewPlayer\", JSON.stringify(testNewPlayer, null, 2));\n\n        let newPlayer = {\n          id: testNewPlayer.login.uuid,\n          name: testNewPlayer.name.first,\n          bggName: \"\",\n          age: testNewPlayer.dob.age,\n          color: \"blue\",\n          fetched: false,\n          email: \"\",\n          thumbnail: testNewPlayer.picture.thumbnail\n        };\n        this.props.addPlayerToStore(newPlayer);\n      });\n  };\n\n  handlePageChange = (event, page) => {\n    console.log(\"changing to page : \", page);\n    if (this.state.page !== page) {\n      this.setState({\n        page: page\n      });\n    }\n  };\n\n  render() {\n    const { page } = this.state;\n\n    return (\n      <ModalContext.Provider value={this.state}>\n        <ModalGame />\n\n        <div className=\"bgg-app\">\n          <header className=\"w3-container w3-theme-d5 bgg-header\">mon entte</header>\n\n          <div className=\"w3-row bgg-body\">\n            {page === Page.Home && <div className=\"w3-col l8 w3-container \">Home</div>}\n\n            {page === Page.Selected && (\n              <div className=\"w3-col l8 w3-container \">\n                <BestGame />\n              </div>\n            )}\n\n            {page === Page.Players && (\n              <div className=\"w3-col l8 w3-container \">\n                <button\n                  className=\"w3-button w3-block w3-ripple w3-teal w3-round-xxlarge w3-xlarge w3-margin-top w3-margin-bottom\"\n                  onClick={this.addPlayer}\n                >\n                  <span>Add player</span>\n                </button>\n\n                <Players />\n              </div>\n            )}\n\n            {page === Page.Games && (\n              <>\n                <div className=\"w3-col l8\">\n                  <Games />\n                </div>\n\n                <div className=\"w3-col l8\">\n                  <WishedGames />\n                </div>\n              </>\n            )}\n          </div>\n\n          <Footer page={this.state.page} onClick={this.handlePageChange} />\n        </div>\n      </ModalContext.Provider>\n    );\n  }\n}\n\n// const mapStateToProps = (state, ownProps) => {\n//   return {\n//     dataVersion: state.dataVersion\n//   };\n// };\n\nconst mapDispatchToProps = {\n  addPlayerToStore\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(App);\n","import produce from \"immer\";\r\n\r\nimport { ADD_PLAYER, DELETE_PLAYER, UPDATE_PLAYER, FETCH_PLAYER_GAMES } from \"../action\";\r\n\r\nconst initialState = {\r\n  players: [\r\n    {\r\n      id: 1,\r\n      bggName: \"Bratac\",\r\n      email: \"bratac@free.fr\"\r\n    },\r\n    {\r\n      id: 2,\r\n      bggName: \"Wallice35\",\r\n      email: \"wallice35@free.fr\"\r\n    }\r\n  ],\r\n  ownership: [],\r\n  games: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  // console.log(\"action.type=\", action.type);\r\n  // console.log(\"action.payload=\", action.payload);\r\n\r\n  switch (action.type) {\r\n    case ADD_PLAYER:\r\n      return produce(state, draft => {\r\n        draft.players.push(action.payload.player);\r\n      });\r\n\r\n    case DELETE_PLAYER:\r\n      return produce(state, draft => {\r\n        draft.players = draft.players.filter(x => x.id !== action.payload.playerId);\r\n      });\r\n\r\n    case UPDATE_PLAYER:\r\n      return produce(state, draft => {\r\n        draft.players = draft.players.map(x =>\r\n          x.id !== action.payload.playerId ? x : { ...x, ...action.payload.playerData }\r\n        );\r\n      });\r\n\r\n    case FETCH_PLAYER_GAMES:\r\n      return produce(state, draft => {\r\n        draft.games = draft.games.concat(action.payload.games);\r\n\r\n        draft.ownership = draft.ownership\r\n          .filter(x => x.playerId !== action.payload.playerId)\r\n          .concat(action.payload.ownership);\r\n      });\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { persistReducer, persistStore } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n// import hardSet from \"redux-persist/lib/stateReconciler/hardSet\";\r\n// import autoMergeLevel2 from \"redux-persist/lib/stateReconciler/autoMergeLevel2\";\r\n\r\nimport mainReducer from \"../reducers/\";\r\n\r\n// This\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage: storage,\r\n  whitelist: [\"bgg\"]\r\n  // stateReconciler: autoMergeLevel2\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  bgg: mainReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(persistReducer(persistConfig, rootReducer), composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport const persistor = persistStore(store);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nimport App from \"./App\";\nimport { store, persistor } from \"./store/configure\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}