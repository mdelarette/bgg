(this.webpackJsonpbgg=this.webpackJsonpbgg||[]).push([[0],{109:function(e,n){},111:function(e,n){},140:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(1),i=t.n(r),c=t(22),s=t.n(c),l=t(3),o=t(73),d=t(13),u=t(74),m=t(75),b=t(81),g=t(80),j=t(8),p=t(45),f=t.n(p),h=t(76),x=t(46),w=t(47),O=t.n(w),y=t(77),v=t.n(y),N="UPDATE_PARTY",C="ADD_PLAYER",I="DELETE_PLAYER",S="UPDATE_PLAYER",P="FETCH_PLAYER_GAMES",k=function(e,n,t){return{type:"FETCH_PLAYER_GAMES",payload:{playerId:e,ownership:n,games:t}}};function G(e,n,t){return-1===t.slice(n+1).findIndex((function(n,t,a){return n.gameId===e.gameId}))}var A={updatePartyToStore:function(e){return console.log("updatePartyToStore !!!"),{type:N,payload:{party:e}}}},E=Object(l.b)((function(e,n){return{party:e.bgg.party}}),A)((function(e){var n=e.party,t=e.updatePartyToStore,r=i.a.useState(n.nbPlayers),c=Object(j.a)(r,2),s=c[0],l=c[1],o=i.a.useState(n.minAge),d=Object(j.a)(o,2),u=d[0],m=d[1],b=i.a.useRef(!0);return i.a.useEffect((function(){return b.current?void(b.current=!1):void t({nbPlayers:s,minAge:u})}),[s,u,t]),Object(a.jsx)("div",{className:"w3-margin-bottom",children:Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)("div",{className:"w3-container w3-orange",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"Number of players"}),Object(a.jsx)("input",{className:"w3-input",type:"number",min:"1",name:"nbPlayers",value:s,onChange:function(e){return l(e.target.value)}})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"Age"}),Object(a.jsx)("input",{className:"w3-input",type:"number",name:"age",value:u,onChange:function(e){return m(e.target.value)}})]})]})})})})),M=t(9),T=Object(M.a)((function(e){return e.bgg.ownership.reduce((function(n,t){if("1"===t.status.own){var a=e.bgg.games.find((function(e){return e.id===t.gameId}));a&&!a.extends&&n.push({id:t.gameId,name:a.name})}return n}),[]).sort((function(e,n){return e.name.localeCompare(n.name)})).map((function(e){return e.id})).filter(Y)}),(function(e){return e})),D=Object(M.a)((function(e){return e.bgg.ownership.reduce((function(e,n){return"1"!==n.status.own&&e.push(n.gameId),e}),[])}),(function(e){return e})),_=(Object(M.a)((function(e){return e.bgg.ownership.reduce((function(n,t){if("1"===t.status.own){var a=e.bgg.games.find((function(e){return e.id===t.gameId}));a&&!a.extends&&n.push({id:t.gameId,name:a.name,min:a.min,max:a.max,minage:a.minage})}return n}),[])}),(function(e){return e})),function(e,n){return e.bgg.games.filter((function(e){return e.extends&&void 0!==e.extends.find((function(e){return e===n.id}))})).map((function(e){return{id:e.id,name:e.name,min:e.min,max:e.max,thumbnail:e.thumbnail}}))}),$=Object(M.a)((function(e,n){return e.bgg.games.find((function(e){return e.id===n.id}))}),_,(function(e,n){return{name:e.name,thumbnail:e.thumbnail,min:e.min,max:e.max,minAge:e.minage,extensions:n}})),F=Object(M.a)((function(e,n){return e.bgg.games.find((function(e){return e.id===n.id}))}),_,(function(e,n){var t=e.bgg.ownership.filter((function(e){return e.gameId===n.id&&"1"===e.status.own})).map((function(e){return e.playerId}));return e.bgg.players.filter((function(e){return t.find((function(n){return n===e.id}))}))}),(function(e,n,t){return e?{name:e.name,thumbnail:e.thumbnail,min:e.min,max:e.max,minage:e.minage,description:e.description,extensions:n,owners:t,extends:e.extends}:null})),R=Object(M.a)((function(e){var n=e.bgg.party.nbPlayers,t=e.bgg.party.minAge;return e.bgg.ownership.reduce((function(a,r){if("1"===r.status.own){var i=e.bgg.games.find((function(e){return e.id===r.gameId}));i&&parseInt(i.min)<=n&&n<=parseInt(i.max)&&t<=parseInt(i.minage)&&(a.push(r.gameId),r.extends&&r.extends.length>0&&a.push(r.extends[0]))}return a}),[]).filter(Y)}),(function(e){return e})),L=Object(M.a)((function(e,n){return e.bgg.party.NbPlayers}),(function(e){return e}));Object(M.a)((function(e,n){return e.bgg.party.minAge}),(function(e){return e}));function Y(e,n,t){return-1===t.slice(n+1).findIndex((function(n,t,a){return n===e}))}var H=i.a.createContext({modalGameId:"0",setModalGame:function(){}});var J=Object(l.b)((function(e,n){return{game:$(e,n),nbPlayers:L(e,n)}}),null)((function(e){var n=e.id,t=e.game,r=e.odd,c=e.nbPlayers;if(!t)return null;var s="bgg-even";r&&(s="bgg-odd");var l=parseInt(t.min),o=parseInt(t.max),d="w3-blue",u="w3-blue";return c===l&&c===o&&(d=u="w3-green"),(c<l||c>o)&&(d=u="w3-red"),Object(a.jsx)(H.Consumer,{children:function(e){e.modalGameId;var r=e.setModalGame;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("div",{className:"w3-bar "+s,style:{display:"flex",flexDirection:"row",minHeight:"100px"},children:[Object(a.jsx)("div",{className:"w3-padding-small",style:{flex:"0 1 100px"},onClick:function(){console.log("GameRow setModalGame:",n),r(n)},children:Object(a.jsx)("img",{alt:"thumbnail",src:t.thumbnail,className:"w3-circle",style:{width:"100px",height:"75px"}})}),Object(a.jsx)("div",{className:"                 w3-large w3-margin-top",style:{flex:"1 1 auto"},children:t.name}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-margin-top w3-center",style:{flex:"0 1 55px"},children:Object(a.jsx)("span",{children:t.minAge})}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-margin-top w3-center",style:{flex:"0 1 55px"},children:Object(a.jsx)("span",{className:d,children:t.min})}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-margin-top w3-center",style:{flex:"0 1 55px"},children:Object(a.jsx)("span",{className:u,children:t.max})})]}),t.extensions&&t.extensions.map((function(e,n){var t="bgg-extension-even";return 1&n&&(t="bgg-extension-odd"),Object(a.jsxs)("div",{className:"w3-bar "+s+" "+t,style:{display:"flex",flexDirection:"row",minHeight:"75px"},children:[Object(a.jsx)("div",{className:"w3-padding-small",style:{flex:"0 1 116px"},onClick:function(){console.log("GameRow extension setModalGame:",e.id),r(e.id)},children:Object(a.jsx)("img",{alt:"thumbnail",src:e.thumbnail,className:"w3-circle",style:{width:"50px",height:"37px",alignSelf:"center"}})}),Object(a.jsxs)("div",{className:"                 w3-large w3-margin-top",style:{flex:"1 1 auto"},children:[Object(a.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90"})," ",e.name]}),Object(a.jsx)("div",{className:"w3-padding-small w3-small w3-margin-top w3-center",style:{flex:"0 1 55px"}}),Object(a.jsx)("div",{className:"w3-padding-small w3-small w3-margin-top w3-center",style:{flex:"0 1 55px"},children:e.min}),Object(a.jsx)("div",{className:"w3-padding-small w3-small w3-margin-top w3-center",style:{flex:"0 1 55px"},children:e.max})]},n)}))]})}})}));var B=function(e){var n=e.gameIds;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsxs)("div",{className:"w3-bar bgg-table-header",style:{display:"flex",flexDirection:"row"},children:[Object(a.jsxs)("div",{className:"w3-padding-small w3-large",style:{flex:"1 1 auto"},children:["name (",n.length,")"]}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-center",style:{flex:"0 1 55px"},children:"age"}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-center",style:{flex:"0 1 55px"},children:"min"}),Object(a.jsx)("div",{className:"w3-padding-small w3-large w3-center",style:{flex:"0 1 55px"},children:"max"})]}),n.map((function(e,n){return Object(a.jsx)(J,{id:e,odd:1&n},e)}))]})})};var U=Object(l.b)((function(e,n){return{gameIds:R(e)}}),null)((function(e){var n=e.gameIds;return Object(a.jsx)(B,{gameIds:n})})),V=0,W=1,X=2,q=3,z=[{id:V,name:"Menu",icon:"fas fa-home"},{id:W,name:"Owners",icon:"fas fa-address-book"},{id:X,name:"Games",icon:"fas fa-dice-d6"},{id:q,name:"Party",icon:"fas fa-clipboard-check"}],K=function(e){return Object(a.jsx)("footer",{className:"w3-container w3-theme-d5 bgg-footer",children:z.map((function(n,t){return Object(a.jsxs)("div",{className:"w3-panel bgg-footer-item "+(n.id===e.page?"selected w3-text-theme":""),onClick:function(t){return e.onClick(t,n.id)},children:[Object(a.jsx)("i",{className:n.icon}),Object(a.jsx)("span",{children:n.name})]},t)}))})};var Q=Object(l.b)((function(e,n){return{gameIds:T(e)}}),null)((function(e){var n=e.gameIds;return Object(a.jsx)(B,{gameIds:n})}));function Z(e,n){return n=n||80,"https://www.gravatar.com/avatar/"+function(e){function n(e,n){return e<<n|e>>>32-n}function t(e,n){var t,a,r,i,c;return r=2147483648&e,i=2147483648&n,c=(1073741823&e)+(1073741823&n),(t=1073741824&e)&(a=1073741824&n)?2147483648^c^r^i:t|a?1073741824&c?3221225472^c^r^i:1073741824^c^r^i:c^r^i}function a(e,a,r,i,c,s,l){return e=t(e,t(t(function(e,n,t){return e&n|~e&t}(a,r,i),c),l)),t(n(e,s),a)}function r(e,a,r,i,c,s,l){return e=t(e,t(t(function(e,n,t){return e&t|n&~t}(a,r,i),c),l)),t(n(e,s),a)}function i(e,a,r,i,c,s,l){return e=t(e,t(t(function(e,n,t){return e^n^t}(a,r,i),c),l)),t(n(e,s),a)}function c(e,a,r,i,c,s,l){return e=t(e,t(t(function(e,n,t){return n^(e|~t)}(a,r,i),c),l)),t(n(e,s),a)}function s(e){var n,t="",a="";for(n=0;n<=3;n++)t+=(a="0"+(e>>>8*n&255).toString(16)).substr(a.length-2,2);return t}var l,o,d,u,m,b,g,j,p,f;for(l=function(e){for(var n,t=e.length,a=t+8,r=16*((a-a%64)/64+1),i=Array(r-1),c=0,s=0;s<t;)c=s%4*8,i[n=(s-s%4)/4]=i[n]|e.charCodeAt(s)<<c,s++;return c=s%4*8,i[n=(s-s%4)/4]=i[n]|128<<c,i[r-2]=t<<3,i[r-1]=t>>>29,i}(e=function(e){e=e.replace(/rn/g,"n");for(var n="",t=0;t<e.length;t++){var a=e.charCodeAt(t);a<128?n+=String.fromCharCode(a):a>127&&a<2048?(n+=String.fromCharCode(a>>6|192),n+=String.fromCharCode(63&a|128)):(n+=String.fromCharCode(a>>12|224),n+=String.fromCharCode(a>>6&63|128),n+=String.fromCharCode(63&a|128))}return n}(e)),g=1732584193,j=4023233417,p=2562383102,f=271733878,o=0;o<l.length;o+=16)d=g,u=j,m=p,b=f,g=a(g,j,p,f,l[o+0],7,3614090360),f=a(f,g,j,p,l[o+1],12,3905402710),p=a(p,f,g,j,l[o+2],17,606105819),j=a(j,p,f,g,l[o+3],22,3250441966),g=a(g,j,p,f,l[o+4],7,4118548399),f=a(f,g,j,p,l[o+5],12,1200080426),p=a(p,f,g,j,l[o+6],17,2821735955),j=a(j,p,f,g,l[o+7],22,4249261313),g=a(g,j,p,f,l[o+8],7,1770035416),f=a(f,g,j,p,l[o+9],12,2336552879),p=a(p,f,g,j,l[o+10],17,4294925233),j=a(j,p,f,g,l[o+11],22,2304563134),g=a(g,j,p,f,l[o+12],7,1804603682),f=a(f,g,j,p,l[o+13],12,4254626195),p=a(p,f,g,j,l[o+14],17,2792965006),g=r(g,j=a(j,p,f,g,l[o+15],22,1236535329),p,f,l[o+1],5,4129170786),f=r(f,g,j,p,l[o+6],9,3225465664),p=r(p,f,g,j,l[o+11],14,643717713),j=r(j,p,f,g,l[o+0],20,3921069994),g=r(g,j,p,f,l[o+5],5,3593408605),f=r(f,g,j,p,l[o+10],9,38016083),p=r(p,f,g,j,l[o+15],14,3634488961),j=r(j,p,f,g,l[o+4],20,3889429448),g=r(g,j,p,f,l[o+9],5,568446438),f=r(f,g,j,p,l[o+14],9,3275163606),p=r(p,f,g,j,l[o+3],14,4107603335),j=r(j,p,f,g,l[o+8],20,1163531501),g=r(g,j,p,f,l[o+13],5,2850285829),f=r(f,g,j,p,l[o+2],9,4243563512),p=r(p,f,g,j,l[o+7],14,1735328473),g=i(g,j=r(j,p,f,g,l[o+12],20,2368359562),p,f,l[o+5],4,4294588738),f=i(f,g,j,p,l[o+8],11,2272392833),p=i(p,f,g,j,l[o+11],16,1839030562),j=i(j,p,f,g,l[o+14],23,4259657740),g=i(g,j,p,f,l[o+1],4,2763975236),f=i(f,g,j,p,l[o+4],11,1272893353),p=i(p,f,g,j,l[o+7],16,4139469664),j=i(j,p,f,g,l[o+10],23,3200236656),g=i(g,j,p,f,l[o+13],4,681279174),f=i(f,g,j,p,l[o+0],11,3936430074),p=i(p,f,g,j,l[o+3],16,3572445317),j=i(j,p,f,g,l[o+6],23,76029189),g=i(g,j,p,f,l[o+9],4,3654602809),f=i(f,g,j,p,l[o+12],11,3873151461),p=i(p,f,g,j,l[o+15],16,530742520),g=c(g,j=i(j,p,f,g,l[o+2],23,3299628645),p,f,l[o+0],6,4096336452),f=c(f,g,j,p,l[o+7],10,1126891415),p=c(p,f,g,j,l[o+14],15,2878612391),j=c(j,p,f,g,l[o+5],21,4237533241),g=c(g,j,p,f,l[o+12],6,1700485571),f=c(f,g,j,p,l[o+3],10,2399980690),p=c(p,f,g,j,l[o+10],15,4293915773),j=c(j,p,f,g,l[o+1],21,2240044497),g=c(g,j,p,f,l[o+8],6,1873313359),f=c(f,g,j,p,l[o+15],10,4264355552),p=c(p,f,g,j,l[o+6],15,2734768916),j=c(j,p,f,g,l[o+13],21,1309151649),g=c(g,j,p,f,l[o+4],6,4149444226),f=c(f,g,j,p,l[o+11],10,3174756917),p=c(p,f,g,j,l[o+2],15,718787259),j=c(j,p,f,g,l[o+9],21,3951481745),g=t(g,d),j=t(j,u),p=t(p,m),f=t(f,b);return(s(g)+s(j)+s(p)+s(f)).toLowerCase()}(e.trim().toLowerCase())+".jpg?d=identicon&s="+n}var ee=Object(l.b)((function(e,n){return{game:F(e,n)}}),null)((function(e){var n=e.id,t=e.game,r=e.setModalGame;if(!t)return Object(a.jsx)("div",{className:"w3-margin w3-card w3-yellow",children:Object(a.jsx)("h3",{children:"no game :("})});console.log(JSON.stringify(t,null,2));var c=function(){return t.min===t.max&&"1"===t.min?"Solo game":t.min===t.max&&"2"===t.min?"Duel game":t.min===t.max?"Exactly ".concat(t.min," players"):"Number of players from ".concat(t.min," to ").concat(t.max)},s=function(){return t.owners?t.owners.map((function(e,n){return Object(a.jsx)(l,{owner:e},n)})):""},l=function(e){var n=e.owner,t=n.email?Z(n.email,30):null;return t?Object(a.jsx)("img",{alt:"gravatar",src:t,className:"w3-bar-item w3-circle",style:{width:"30px"}}):!t&&n.thumbnail?Object(a.jsx)("img",{alt:"thumbnail",src:n.thumbnail,className:"w3-bar-item w3-circle",style:{width:"30px"}}):""};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("header",{className:"w3-container w3-green",children:[Object(a.jsx)("span",{onClick:function(){r("0")},className:"w3-button w3-display-topright",children:"\xd7"}),Object(a.jsx)("h2",{children:t.name})]}),Object(a.jsxs)("div",{className:"w3-padding w3-pale-green w3-bottombar w3-border-green w3-border",children:[Object(a.jsx)("h4",{children:Object(a.jsx)(c,{})}),Object(a.jsxs)("h4",{children:["Minimum age: ",t.minage]}),Object(a.jsx)(s,{}),Object(a.jsx)("p",{style:{whiteSpace:"pre-line"},children:t.description})]}),Object(a.jsxs)("footer",{className:"w3-container w3-green",children:[Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"https://boardgamegeek.com/boardgame/"+n,children:"View on boardgamegeek.com"})}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"https://melodice.org/playlist/"+t.name,children:"Melodice.org"})})]})]})})),ne=function(){return Object(a.jsx)(H.Consumer,{children:function(e){var n=e.modalGameId,t=e.setModalGame;return Object(a.jsx)("div",{className:"w3-modal",style:{display:"0"===n?"none":"block"},children:Object(a.jsx)("div",{className:"w3-modal-content  w3-transparent",children:Object(a.jsx)(ee,{id:n,setModalGame:t})})})}})},te={updatePlayerToStore:function(e,n){return console.log("updatePlayerToStore",e,JSON.stringify(n,null,2)),{type:S,payload:{playerId:e,playerData:n}}},deletePlayerFromStore:function(e){return{type:I,payload:{playerId:e}}},fetchPlayerGames:function(e){return function(){var n=Object(h.a)(f.a.mark((function n(t,a){var r,i,c,s,l,o,d;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("fetchPlayerGames",e.id,e.bggName),i=[],n.prev=2,n.next=5,O.a.get("https://www.boardgamegeek.com/xmlapi2/collection?username=".concat(e.bggName));case 5:if(c=n.sent,Object(x.parseString)(c.data,(function(n,t){r=t.items.item.map((function(n,t){return{gameId:n.$.objectid,playerId:e.id,status:n.status[0].$}}))})),i=r.filter(G),s=a().bgg.games.map((function(e){return e.id})),!((l=(l=i.map((function(e){return e.gameId}))).filter((function(e){return void 0===s.find((function(n){return n===e}))}))).length>0)){n.next=18;break}return o=(o=l.reduce((function(e,n){return e+"".concat(n,",")}),"")).slice(0,o.length-1),n.next=16,O.a.get("https://www.boardgamegeek.com/xmlapi2/thing?id=".concat(o));case 16:d=n.sent,Object(x.parseString)(d.data,(function(e,n){r=n.items.item.map((function(e,n){var t={id:e.$.id,type:e.$.type,name:e.name[0].$.value,minage:e.minage[0].$.value,min:e.minplayers[0].$.value,max:e.maxplayers[0].$.value,minplaytime:e.minplaytime[0].$.value,maxplaytime:e.maxplaytime[0].$.value,playingtime:e.playingtime[0].$.value,image:e.image[0],thumbnail:e.thumbnail[0],description:v.a.decode(e.description[0])};return"boardgameexpansion"===t.type&&(t.extends=e.link.reduce((function(e,n){return"boardgameexpansion"===n.$.type&&e.push(n.$.id),e}),[])),t}))}));case 18:t(k(e.id,i,r)),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),console.error(n.t0);case 24:case"end":return n.stop()}}),n,null,[[2,21]])})));return function(e,t){return n.apply(this,arguments)}}()}},ae=Object(l.b)(null,te)((function(e){var n=e.player,t=e.updatePlayerToStore,r=e.deletePlayerFromStore,c=e.fetchPlayerGames,s=i.a.useState(!1),l=Object(j.a)(s,2),o=l[0],d=l[1],u=i.a.useState(n.name),m=Object(j.a)(u,2),b=m[0],g=m[1],p=i.a.useState(n.bggName),f=Object(j.a)(p,2),h=f[0],x=f[1],w=i.a.useState(n.age),O=Object(j.a)(w,2),y=O[0],v=O[1],N=i.a.useState(n.email),C=Object(j.a)(N,2),I=C[0],S=C[1],P=i.a.useMemo((function(){return I?Z(I,85):null}),[I]);return Object(a.jsxs)("div",{className:"w3-margin-bottom",children:[o&&Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("div",{className:"w3-container w3-orange",children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",value:b,onChange:function(e){return g(e.target.value)}})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"BGG"}),Object(a.jsx)("input",{type:"text",name:"bggName",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"text",name:"email",value:I,onChange:function(e){return S(e.target.value)}})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{children:"Age"}),Object(a.jsx)("input",{type:"number",name:"age",value:y,onChange:function(e){return v(e.target.value)}})]})]}),Object(a.jsxs)("div",{className:"w3-bar",children:[Object(a.jsx)("button",{className:"w3-button w3-blue",onClick:function(){t(n.id,{name:b,bggName:h,age:y,email:I}),d(!1)},children:"Valid"}),Object(a.jsx)("button",{className:"w3-button w3-light-grey",onClick:function(){return d(!1)},children:"Cancel"})]})]}),!o&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"w3-bar w3-white",onClick:function(){return d(!0)},children:[Object(a.jsx)("span",{onClick:function(){return r(n.id)},className:"w3-bar-item w3-button w3-white w3-xlarge w3-right",children:"\xd7"}),P&&Object(a.jsx)("img",{alt:"gravatar",src:P,className:"w3-bar-item w3-circle",style:{width:"85px"}}),!P&&n.thumbnail&&Object(a.jsx)("img",{alt:"thumbnail",src:n.thumbnail,className:"w3-bar-item w3-circle",style:{width:"85px"}}),Object(a.jsxs)("div",{className:"w3-bar-item",children:[Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"w3-large",children:[n.name," "]}),Object(a.jsx)("span",{className:"w3-badge w3-green",children:n.age})]}),Object(a.jsx)("p",{children:n.bggName?n.bggName:"\xa0"})]})]}),n.bggName&&Object(a.jsx)("div",{className:"w3-bar",children:Object(a.jsx)("button",{className:"w3-button w3-light-grey",onClick:function(){return c(n)},children:"Fetch"})})]})]})})),re=Object(l.b)((function(e,n){return{players:e.bgg.players}}),null)((function(e){return Object(a.jsx)("div",{children:e.players.map((function(e,n){return Object(a.jsx)(ae,{player:e},e.id)}))})}));var ie=Object(l.b)((function(e,n){return{gameIds:D(e)}}),null)((function(e){var n=e.gameIds;return Object(a.jsx)(B,{gameIds:n})})),ce=t(48),se=function(e){Object(b.a)(t,e);var n=Object(g.a)(t);function t(e){var a;return Object(u.a)(this,t),(a=n.call(this,e)).addPlayer=function(){fetch("https://randomuser.me/api/").then((function(e){return e.json()})).then((function(e){var n=e.results[0],t={id:n.login.uuid,name:n.name.first,bggName:"",age:n.dob.age,color:"blue",fetched:!1,email:"",thumbnail:n.picture.thumbnail};a.props.addPlayerToStore(t)}))},a.handlePageChange=function(e,n){a.state.page!==n&&a.setState({page:n})},a.setModalGame=function(e){console.log("App.setModalGame:",e),a.setState(Object(d.a)(Object(d.a)({},a.state),{},{modalGameId:e}))},a.state={modalGameId:"0",setModalGame:a.setModalGame,page:V},a}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state.page;return Object(a.jsxs)(H.Provider,{value:this.state,children:[Object(a.jsx)(ne,{}),Object(a.jsxs)("div",{className:"bgg-app",children:[Object(a.jsxs)("header",{className:"w3-container w3-theme-d5 bgg-header",children:[ce.a," - ",ce.b]}),Object(a.jsxs)("div",{className:"w3-row bgg-body",children:[e===V&&Object(a.jsx)("div",{className:"w3-col l8 w3-container ",children:"Home"}),e===W&&Object(a.jsxs)("div",{className:"w3-col l8 w3-container ",children:[Object(a.jsx)("button",{className:"w3-button w3-block w3-ripple w3-teal w3-round-xxlarge w3-xlarge w3-margin-top w3-margin-bottom",onClick:this.addPlayer,children:Object(a.jsx)("span",{children:"Add owner"})}),Object(a.jsx)(re,{})]}),e===X&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"w3-col l8",children:Object(a.jsx)("span",{children:"TODO if more than one owner add a filter"})}),Object(a.jsx)("div",{className:"w3-col l8",children:Object(a.jsx)("span",{children:"tab for owned and wished games"})}),Object(a.jsx)("div",{className:"w3-col l8",children:Object(a.jsx)(Q,{})}),Object(a.jsx)("div",{className:"w3-col l8",children:Object(a.jsx)(ie,{})})]}),e===q&&Object(a.jsxs)("div",{className:"w3-col l8",children:[Object(a.jsx)(E,{}),Object(a.jsx)(U,{})]})]}),Object(a.jsx)(K,{page:this.state.page,onClick:this.handlePageChange})]})]})}}]),t}(i.a.Component),le={addPlayerToStore:function(e){return{type:C,payload:{player:e}}}},oe=Object(l.b)(null,le)(se),de=t(6),ue=t(78),me=t(49),be=t(79),ge=t.n(be),je=t(14),pe={players:[{id:1,bggName:"Bratac",email:"bratac@free.fr"},{id:2,bggName:"Wallice35",email:"wallice35@free.fr"}],ownership:[],games:[],party:{nbPlayers:2,minAge:8}},fe={key:"root",storage:ge.a,whitelist:["bgg"]},he=Object(de.c)({bgg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case C:return Object(je.a)(e,(function(e){e.players.push(n.payload.player)}));case I:return Object(je.a)(e,(function(e){e.players=e.players.filter((function(e){return e.id!==n.payload.playerId}))}));case S:return Object(je.a)(e,(function(e){e.players=e.players.map((function(e){return e.id!==n.payload.playerId?e:Object(d.a)(Object(d.a)({},e),n.payload.playerData)}))}));case N:return Object(je.a)(e,(function(e){e.party=n.payload.party}));case P:return Object(je.a)(e,(function(e){e.games=e.games.concat(n.payload.games),e.ownership=e.ownership.filter((function(e){return e.playerId!==n.payload.playerId})).concat(n.payload.ownership)}));default:return e}}}),xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,we=Object(de.e)(Object(me.a)(fe,he),xe(Object(de.a)(ue.a))),Oe=Object(me.b)(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(a.jsx)(l.a,{store:we,children:Object(a.jsx)(o.a,{loading:null,persistor:Oe,children:Object(a.jsx)(oe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e){e.exports=JSON.parse('{"a":"bgg","b":"0.1.14"}')}},[[140,1,2]]]);
//# sourceMappingURL=main.31ec7a4e.chunk.js.map